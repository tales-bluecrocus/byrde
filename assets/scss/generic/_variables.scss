@use "sass:map";
@use "sass:string";
@use "sass:color";
@use "sass:math";

@use "fonts";

// ============================================
// CSS DESIGNS TOKENS (Configurable via PHP)
// ============================================

:root {
	// Global Theme Colors
	--primary-color: #0f172a;
	--primary-text: #ffffff;
	
	--secondary-color: #f97316;
	--secondary-text: #ffffff;
	
	--alternative-color: #3b82f6;
	--alternative-text: #ffffff;

	// Specific Button Colors
	--btn-primary-bg: #0f172a;
	--btn-primary-text: #ffffff;
	
	--btn-secondary-bg: #f97316;
	--btn-secondary-text: #ffffff;
	
	--btn-alternative-bg: #3b82f6;
	--btn-alternative-text: #ffffff;
	
	// Layout Colors
	--bg-gray: #f9fafb;
	--bg-white: #ffffff;
	
	// Text Colors
	--text-main: #1e293b;
	--text-muted: #475569;
}

// ============================================
// SASS VARIABLES (Pointing to CSS Variables)
// ============================================

$primary-bg: var(--primary-color);
$primary-text: var(--primary-text);

$secondary-bg: var(--secondary-color);
$secondary-text: var(--secondary-text);

$alternative-bg: var(--alternative-color);
$alternative-text: var(--alternative-text);

// Specific Button Sass Variables
$btn-primary-bg: var(--btn-primary-bg);
$btn-primary-text: var(--btn-primary-text);

$btn-secondary-bg: var(--btn-secondary-bg);
$btn-secondary-text: var(--btn-secondary-text);

$btn-alternative-bg: var(--btn-alternative-bg);
$btn-alternative-text: var(--btn-alternative-text);

// Link Colors
$link-color: var(--secondary-color);
$link-color-hover: var(--primary-color);

// ============================================
// UTILITIES (Fluid Typography)
// ============================================

$container-max-width: 1280;
$mobile-breakpoint: 375;

@function fluid($min-size, $max-size, $min-breakpoint: $mobile-breakpoint, $max-breakpoint: $container-max-width) {
	$slope: math.div($max-size - $min-size, $max-breakpoint - $min-breakpoint);
	$y-axis-intersection: -$min-breakpoint * $slope + $min-size;
	
	$min-size-rem: math.div($min-size, 16) * 1rem;
	$max-size-rem: math.div($max-size, 16) * 1rem;
	$slope-vw: $slope * 100;
	$intercept-rem: math.div($y-axis-intersection, 16) * 1rem;

	@return clamp(#{$min-size-rem}, #{$slope-vw}vw + #{$intercept-rem}, #{$max-size-rem});
}

// ============================================
// SEMANTIC TOKENS (Helpers)
// ============================================

$text-color: (
	"heading": var(--text-main),
	"body": var(--text-muted),
	"primary": $primary-bg,
	"secondary": $secondary-bg,
	"alternative": $alternative-bg,
	"inverse": #ffffff,
);

@function text-color($key) {
	@return map.get($text-color, $key);
}

$bg-color: (
	"primary": $primary-bg,
	"secondary": $secondary-bg,
	"alternative": $alternative-bg,
	"white": var(--bg-white),
	"gray": var(--bg-gray),
);

@function bg-color($key) {
	@return map.get($bg-color, $key);
}

// ============================================
// TYPOGRAPHY
// ============================================

$font-family: (
	"primary": fonts.$font-family-primary,
	"secondary": fonts.$font-family-secondary,
	"heading": fonts.$font-family-primary,
	"body": fonts.$font-family-secondary,
);

@function font-family($key) {
	@return map.get($font-family, $key);
}

$font-size: (
	"xs": fluid(10, 12),
	"sm": fluid(12, 14),
	"md": fluid(14, 16),
	"lg": fluid(16, 18),
	"xl": fluid(18, 20),
	"2xl": fluid(20, 24),
	"3xl": fluid(24, 30),
	"4xl": fluid(30, 36),
	"5xl": fluid(36, 48),
	"6xl": fluid(42, 60),
	"7xl": fluid(48, 72),
);

@function font-size($key) {
	@return map.get($font-size, $key);
}

$line-height: (
	"none": 1,
	"tight": 1.2,
	"snug": 1.375,
	"normal": 1.5,
	"relaxed": 1.625,
	"loose": 2,
);

@function line-height($key) {
	@return map.get($line-height, $key);
}

// ============================================
// SPACING & SIZING
// ============================================

$spacing: (
	"none": 0,
	"xs": 0.5rem,
	"sm": 1rem,
	"md": 1.5rem,
	"lg": 2rem,
	"xl": 3rem,
	"2xl": 4rem,
	"3xl": 5rem,
	"4xl": 6rem,
);

@function spacing($key) {
	@return map.get($spacing, $key);
}

$radius: (
	"none": 0,
	"sm": 0.125rem,
	"md": 0.375rem,
	"lg": 0.5rem,
	"xl": 0.75rem,
	"full": 9999px,
);

@function radius($key) {
	@return map.get($radius, $key);
}

// ============================================
// GRID SYSTEM
// ============================================

$grid-columns: 12;
$grid-gutter: 1.5rem;
$container-padding: 1rem;
$tablet: 768px;
$mobile: 576px;
